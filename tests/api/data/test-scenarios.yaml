# Application-specific test scenarios
scenarios:
  health_check:
    type: functional
    endpoint: /health
    method: GET
    expected_status: 200
    assertions:
      - field: status
        value: ok
      - field: version
        exists: true

  verify_password_flow:
    type: functional
    endpoint: /auth/verify
    method: POST
    expected_status: 200
    description: "Test password verification flow works"
    # No data-specific assertions

  create_access_rule:
    type: data_validation
    endpoint: /api/internal/access-rules
    method: POST
    requires_cleanup: true
    expected_status: [200, 201]

  verify_email_flow:
    type: functional
    endpoint: /auth/verify
    method: POST
    expected_status: 200
    description: "Test email verification flow works"

  get_protected_content:
    type: functional
    endpoint: /auth/content
    method: GET
    requires_auth: true
    expected_status: [200, 401]
    description: "Test protected content requires authentication"

  check_access_requirements:
    type: functional
    endpoint: /auth/access
    method: GET
    expected_status: 200
    description: "Test access requirements check"

  content_catalog:
    type: functional
    endpoint: /api/content-catalog
    method: GET
    requires_api_key: true
    expected_status: 200
    description: "Test content catalog endpoint"

  admin_access_rules_crud:
    type: data_validation
    endpoint: /api/internal/access-rules
    method: [POST, GET, PUT, DELETE]
    requires_cleanup: true
    expected_status: [200, 201, 204]
    description: "Test admin access rules CRUD operations"

  # Content Sync Scenarios
  content_sync_webhook:
    type: functional
    endpoint: /api/internal/content-sync/webhook
    method: POST
    expected_status: [200, 400, 401]
    description: "Test content sync webhook processing"

  content_sync_manual:
    type: functional
    endpoint: /api/internal/content-sync/manual
    method: POST
    requires_api_key: true
    expected_status: [200, 400, 500]
    description: "Test manual content sync"

  content_sync_status:
    type: functional
    endpoint: /api/internal/content-sync/status
    method: GET
    requires_api_key: true
    expected_status: 200
    description: "Test content sync status endpoint"

  # Content Management Scenarios
  content_management_list:
    type: functional
    endpoint: /api/content-management/list
    method: GET
    requires_api_key: true
    expected_status: 200
    description: "Test content management list endpoint"

  content_management_crud:
    type: data_validation
    endpoint: /api/content-management/file
    method: [POST, GET, PUT, DELETE]
    requires_api_key: true
    requires_cleanup: true
    expected_status: [200, 201, 404]
    description: "Test content management CRUD operations"

  # Access Control API Scenarios (New)
  access_control_api_rules:
    type: data_validation
    endpoint: /api/access-control/rules
    method: [POST, GET, PUT, DELETE]
    requires_api_key: true
    requires_cleanup: true
    expected_status: [200, 201, 400, 404]
    description: "Test access control API rules management"

  access_control_api_logs:
    type: functional
    endpoint: /api/access-control/logs
    method: GET
    requires_api_key: true
    expected_status: 200
    description: "Test access control logs endpoint"
